<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Home on docsGo</title>
    <link>http://localhost:1313/docsgo/</link>
    <description>Recent content in Home on docsGo</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 01 Apr 2024 17:03:58 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/docsgo/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Systemdåˆ›å»ºLinuxæœåŠ¡</title>
      <link>http://localhost:1313/docsgo/shell/systemd%E5%88%9B%E5%BB%BAlinux%E6%9C%8D%E5%8A%A1/</link>
      <pubDate>Mon, 01 Apr 2024 17:03:58 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/shell/systemd%E5%88%9B%E5%BB%BAlinux%E6%9C%8D%E5%8A%A1/</guid>
      <description>ğŸ¤” éœ€è¦åˆ›å»ºä¸€ä¸ªè„šæœ¬å¹¶åœ¨åå°è¿è¡Œå®ƒ&#xA;å¯ä»¥é‡‡å–å‡ ç§æ–¹æ³•&#xA;ä¹Ÿè®¸æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨å‘½ä»¤æœ«å°¾æ·»åŠ ä¸€ä¸ª&amp;amp; å¦å¤–ï¼Œå¦‚æœæƒ³å…³é—­ç»ˆç«¯ï¼Œè¿½åŠ nohupã€‚âš ï¸ å¦‚æœçš„è„šæœ¬ç”±äºæŸç§åŸå› å­˜åœ¨ï¼Œéœ€è¦æ‰‹åŠ¨é‡æ–°å¯åŠ¨å®ƒã€‚ æ›´å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨Linux çš„ï¼š systemd å±•ç¤ºå¦‚ä½•åˆ›å»ºä¸€ä¸ªç®€å•çš„ systemd æœåŠ¡ï¼Œè¯¥æœåŠ¡å¯ä»¥åœ¨åå°è¿è¡Œè„šæœ¬å¹¶åœ¨å‡ºç°æ•…éšœæ—¶é‡æ–°å¯åŠ¨å®ƒ&#xA;ç¤ºä¾‹ï¼š&#xA;åˆ›å»ºä¸€ä¸ªç®€å•çš„ Python HTTP æœåŠ¡å™¨ vim my_server.py æ¥å— HTTP GET è¯·æ±‚å¹¶å°†Helloå­—ç¬¦ä¸²è¿”å›ç»™å®¢æˆ·ç«¯ from http.server import BaseHTTPRequestHandler, HTTPServer hostName = &amp;#34;localhost&amp;#34; serverPort = 8080 class MyServer(BaseHTTPRequestHandler): def do_GET(self): self.send_response(200) self.send_header(&amp;#34;Content-type&amp;#34;, &amp;#34;text/html&amp;#34;) self.end_headers() self.wfile.write(bytes(&amp;#34;Hello\n&amp;#34;, &amp;#34;utf-8&amp;#34;)) if __name__ == &amp;#34;__main__&amp;#34;: webServer = HTTPServer((hostName, serverPort), MyServer) print(&amp;#34;Server started http://%s:%s&amp;#34; % (hostName, serverPort)) try: webServer.serve_forever() except KeyboardInterrupt: pass webServer.server_close() å°è¯•åœ¨å‰å°è¿è¡Œï¼Œç¡®ä¿pyè„šæœ¬æ­£å¸¸&#xA;python3 my_server.py ç„¶åæ‰“å¼€ä¸€ä¸ªæ–°çª—å£å¹¶ï¼Œå°è¯•ä½¿ç”¨å‘½ä»¤è®¿é—®æœåŠ¡å™¨curlã€‚&#xA;curl localhost:8080/hello åˆ›å»º Systemd Linux æœåŠ¡ vim /etc/systemd/system/my-server.</description>
    </item>
    <item>
      <title>Root Ssh Login Sh</title>
      <link>http://localhost:1313/docsgo/shell/root-ssh-login-sh/</link>
      <pubDate>Mon, 01 Apr 2024 15:58:40 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/shell/root-ssh-login-sh/</guid>
      <description>é…ç½®SSHä»¥å…è®¸rootç”¨æˆ·æ— å¯†ç ç™»å½•&#xA;è„šæœ¬ï¼š&#xA;#!/bin/bash print_script_header() { echo &amp;#34;-----------------------------------------------&amp;#34; echo &amp;#34;# è„šæœ¬: root_ssh_login.sh&amp;#34; echo &amp;#34;# æè¿°: é…ç½®SSHä»¥å…è®¸rootç”¨æˆ·æ— å¯†ç ç™»å½•&amp;#34; echo &amp;#34;# ä½œè€…:&amp;#34; echo &amp;#34;# æ—¥æœŸ: 2024&amp;#34; echo &amp;#34;-----------------------------------------------&amp;#34; } # ç¤ºä¾‹ç”¨æ³• users=(&amp;#34;root&amp;#34;) input(){ # æç¤ºç”¨æˆ·è¾“å…¥èŠ‚ç‚¹ï¼Œä»¥ç©ºæ ¼åˆ†éš” read -p &amp;#34;è¯·è¾“å…¥èŠ‚ç‚¹åç§°ï¼ˆä»¥ç©ºæ ¼åˆ†éš”ï¼‰: &amp;#34; nodes_input # å°†è¾“å…¥çš„èŠ‚ç‚¹å­—ç¬¦ä¸²åˆ†å‰²æˆæ•°ç»„ IFS=&amp;#39; &amp;#39; read -ra nodes &amp;lt;&amp;lt;&amp;lt; &amp;#34;$nodes_input&amp;#34; } # å‡½æ•°ï¼šæç¤ºç”¨æˆ·è¾“å…¥å¯†ç å¹¶åˆ›å»ºpassword.txt prompt_for_password() { read -s -p &amp;#34;è¯·è¾“å…¥å¯†ç : &amp;#34; password echo &amp;#34;$password&amp;#34; &amp;gt; /tmp/password.txt } # å‡½æ•°ï¼šæ£€æŸ¥å¹¶ä½¿ç”¨yumå®‰è£…sshpass install_sshpass() { if ! command -v sshpass &amp;amp;&amp;gt; /dev/null; then echo &amp;#34;æç¤ºï¼šsshpassæœªå®‰è£…ï¼Œæ­£åœ¨å®‰è£….</description>
    </item>
    <item>
      <title>Kubeadm Install Kubernetes</title>
      <link>http://localhost:1313/docsgo/kubernetes/kubeadm-install-kubernetes/</link>
      <pubDate>Mon, 01 Apr 2024 11:18:20 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/kubernetes/kubeadm-install-kubernetes/</guid>
      <description>Kubernetes + KubeSphere å‡†å¤‡å·¥ä½œ Harbor éƒ¨ç½² harbor-offline-installer-v2.1.2.tgz&#xA;https://github.com/goharbor/harbor/releases/tag/v2.1.2&#xA;å¯å‚è€ƒå®‰è£…æ–‡æ¡£ï¼šå®˜æ–¹ï¼šhttps://goharbor.io/docs/2.1.0/install-config/quick-install-script/&#xA;ä¸Šä¼ harboråŒ…ï¼Œä¸ docker-compose-Linux-x86_64&#xA;mv /tmp/docker-compose-Linux-x86_64 /usr/local/bin/docker-compose chmod +x /usr/local/bin/docker-compose ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose ç¼–è¾‘é…ç½®æ–‡ä»¶&#xA;tar -zxvf /tmp/harbor-offline-installer-v2.1.2.tgz -C /root è¿›å…¥è§£å‹çš„ harbor ç›®å½•&#xA;âš ï¸ï¼šæ‹·è´harbor.ymlçš„å¤‡ä»½æ–‡ä»¶ä¸º harbor.yml&#xA;ç¼–è¾‘æ–‡ä»¶ /root/harbor/harbor.yml æ³¨é‡Šæ‰httpsçš„ç›¸å…³é…ç½® é»˜è®¤ç«¯å£ï¼š8080 ä¸»æœºåœ°å€ï¼šhostname: ä¿®æ”¹ä¸ºä¸»æœº IP å­˜å‚¨ç›®å½•: data_volume: /data/harbor è¿è¡Œè„šæœ¬ï¼š&#xA;bash install.sh åˆ›å»ºHarbor åº“ bash create_project_harbor.sh&#xA;âš ï¸ï¼šæŒ‰éœ€æ·»åŠ éœ€è¦çš„åº“åç§°ï¼Œè¿è¡Œè¯¥è„šæœ¬&#xA;#!/usr/bin/env bash url=&amp;#34;https://dockerhub.kubekey.local&amp;#34; user=&amp;#34;admin&amp;#34; passwd=&amp;#34;Harbor12345&amp;#34; harbor_projects=(library kubesphere calico ) for project in &amp;#34;${harbor_projects[@]}&amp;#34;; do echo &amp;#34;creating $project&amp;#34; curl -u &amp;#34;${user}:${passwd}&amp;#34; -X POST -H &amp;#34;Content-Type: application/json&amp;#34; &amp;#34;${url}/api/v2.</description>
    </item>
    <item>
      <title>Jumpserver</title>
      <link>http://localhost:1313/docsgo/other/jumpserver/</link>
      <pubDate>Fri, 29 Mar 2024 09:46:46 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/other/jumpserver/</guid>
      <description>å®˜ç½‘ï¼šhttps://www.jumpserver.org/index.html&#xA;ç»Ÿä¸€ITèµ„äº§è®¿é—®å…¥å£ï¼š&#xA;é€šè¿‡ç™»å½•JumpServerå¯ä»¥è®¿é—®å·²æˆæƒçš„æœåŠ¡å™¨ï¼Œé€šè¿‡ç»Ÿä¸€çš„é—¨æˆ·è®¿é—®æ‰€æœ‰çš„ITèµ„äº§&#xA;å®‰å…¨ç¨³å®šè¿è¡Œçš„ä¿éšœ&#xA;â€‹&#x9;é€šè¿‡Webé¡µé¢å’ŒSSHå®¢æˆ·ç«¯è®¿é—®JumpServerã€‚ä¸ºäº†æå‡å®‰å…¨ç­‰çº§ï¼ŒJumpServeræ”¯æŒMFAå¤šå› å­è®¤è¯çš„æ–¹å¼ï¼Œå¹¶ä¸”æ”¯æŒå½•åƒå®¡è®¡å’ŒSSHåè®®è®¿é—®ã€‚JumpServerä¹Ÿå®Œæ•´å…·å¤‡4Aï¼ˆå³èº«ä»½éªŒè¯ã€æˆæƒæ§åˆ¶ã€è´¦å·ç®¡ç†ã€å®‰å…¨å®¡è®¡ï¼‰å››å¤§æ ¸å¿ƒåŠŸèƒ½ï¼Œä¸ºæœåŠ¡å™¨ã€ç½‘ç»œè®¾å¤‡ã€æ•°æ®åº“å’Œå®‰å…¨è®¾å¤‡ç­‰å†…ç½‘è®¾å¤‡æä¾›äº†ç»Ÿä¸€çš„å®‰å…¨ç®¡ç†ä¿éšœ&#xA;MFAè®¤è¯ï¼šå¤šé‡èº«ä»½è®¤è¯&#xA;ç™»é™†æ—¶åŠ äº†ä¸€å±‚å®‰å…¨å±‚ï¼Œè¦æ±‚ç”¨æˆ·ä½¿ç”¨ å› ç´ ï¼š&#xA;ç”¨æˆ·å·²çŸ¥ï¼šç”¨æˆ·å ã€ å¯†ç  MFAï¼šè®¤è¯å™¨å¾—åˆ°éªŒè¯ç  å¦‚æœåˆ«äººçªƒå–äº† ç”¨æˆ·å¯†ç ï¼Œé‚£ä¹ˆä»–è¿˜éœ€è¦çªƒå–ä½ çš„æ‰‹æœº&#xA;è®¿é—®ï¼šHttps&#xA;æ•°æ®åº“</description>
    </item>
    <item>
      <title>Mysqldump</title>
      <link>http://localhost:1313/docsgo/shell/mysqldump/</link>
      <pubDate>Thu, 28 Mar 2024 16:11:37 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/shell/mysqldump/</guid>
      <description>ğŸ­ mysqldump âœ… æ‰§è¡Œ mysqldump.sh å®Œæˆå…¨é‡å¤‡ä»½ å˜é‡ (å¿…é¡»):&#xA;BACKUP_DIRï¼šå¤‡ä»½ç›®å½• MYSQL_UNAMEï¼šç”¨æˆ· MYSQL_PWORDï¼šå¯†ç  PATHï¼šmysqldumpå‘½ä»¤è·¯å¾„ KEEP_BACKUPS_FORï¼šä¿ç•™å¤©æ•°(é»˜è®¤7å¤©) ğŸŒ æ¢å¤(ç¤ºä¾‹)&#xA;for file in ./2024-03-07/*.sql.gz; do gunzip &amp;gt; &amp;#34;$file&amp;#34; | mysql -u your_username -p your_database_name; done â›³ï¸ cron(ç¤ºä¾‹)&#xA;ä¾‹ï¼šæ¯å¤©å®šæ—¶å‡Œæ™¨1ç‚¹10åˆ†å¤‡ä»½æ•°æ®åº“&#xA;10 1 * * * /bin/bash /data/mysql/.sh/mysql_backup.sh è„šæœ¬ï¼š&#xA;#!/bin/bash #============================================================================== #TITLE: mysql_backup.sh #DESCRIPTION: è‡ªåŠ¨æ‰§è¡Œæ—¥å¸¸ mysql å¤‡ä»½çš„è„šæœ¬ #DATE: 2024.03.07 #VERSION: 0.1 #USAGE: ./mysql_backup.sh #CRON: # æ¯å¤©å‡Œæ™¨ 00:00 æ‰§è¡Œæ•°æ®åº“å¤‡ä»½çš„ cron ç¤ºä¾‹ # 0 0 * * * /Users/[your user name]/scripts/mysql_backup.</description>
    </item>
    <item>
      <title>Vmauth</title>
      <link>http://localhost:1313/docsgo/monitor/victoriametrics/vmauth/</link>
      <pubDate>Wed, 27 Mar 2024 16:38:42 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/monitor/victoriametrics/vmauth/</guid>
      <description>ç®€å•èº«ä»½éªŒè¯ä»£ç†&#xA;ä¸‹è½½ï¼šhttps://github.com/VictoriaMetrics/VictoriaMetrics/releases/download/v1.99.0/vmutils-linux-amd64-v1.99.0.tar.gz&#xA;å‡å‹åˆ°ï¼š/usr/local/bin&#xA;system æ–‡ä»¶&#xA;ä½¿ç”¨äº†TLS åŠ å¯† é…ç½®æ–‡ä»¶å‚è€ƒå®˜æ–¹æ–‡æ¡£å³å¯ cat &amp;lt;&amp;lt;EOF &amp;gt; /etc/systemd/system/vmauth.service [Unit] Description=Description=vmauth.service After=network.target [Service] Type=simple ExecStart=/usr/local/bin/vmauth-prod -auth.config=/etc/auth/config.yml -tls -tlsCertFile=/root/.ssh/cert.pem -tlsKeyFile=/root/.ssh/key.pem SyslogIdentifier=victoriametrics Restart=always [Install] WantedBy=multi-user.target EOF </description>
    </item>
    <item>
      <title>VictoriaMetrics</title>
      <link>http://localhost:1313/docsgo/monitor/victoriametrics/victoriametrics/</link>
      <pubDate>Wed, 27 Mar 2024 16:33:08 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/monitor/victoriametrics/victoriametrics/</guid>
      <description>å®‰è£…æ–¹å¼å¤šç§å‚è€ƒå®˜ç½‘æ–‡æ¡£&#xA;äºŒè¿›åˆ¶å®‰è£…ï¼š&#xA;ä¸‹è½½ï¼šhttps://github.com/VictoriaMetrics/VictoriaMetrics/releases/download/v1.99.0/victoria-metrics-linux-amd64-v1.99.0.tar.gz è§£å‹åˆ° /usr/local/bin&#xA;åˆ›å»ºæ•°æ®ç›®å½•ï¼šä¾‹å¦‚ /data/victoria-metrics å¯åŠ¨æ–‡ä»¶ï¼š&#xA;å…¼å®¹ prometheus é…ç½®æ–‡ä»¶æ ¼å¼ cat &amp;lt;&amp;lt;EOF &amp;gt;/etc/systemd/system/victoria-metrics.service [Unit] Description=Description=VictoriaMetrics service After=network.target [Service] Type=simple LimitNOFILE=2097152 ExecStart=/usr/local/bin/victoria-metrics-prod -storageDataPath=/data/victoria-metrics -promscrape.config=/etc/victoriametrics/prometheus.yaml SyslogIdentifier=victoriametrics Restart=always PrivateTmp=yes ProtectHome=yes NoNewPrivileges=yes ProtectSystem=full [Install] WantedBy=multi-user.target æš´éœ²ç«¯å£ï¼š8428</description>
    </item>
    <item>
      <title>Alertmanager</title>
      <link>http://localhost:1313/docsgo/monitor/alert/alertmanager/</link>
      <pubDate>Wed, 27 Mar 2024 16:03:21 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/monitor/alert/alertmanager/</guid>
      <description>äºŒè¿›åˆ¶å®‰è£…ï¼š&#xA;ä¸‹è½½ï¼šhttps://github.com/prometheus/alertmanager/releases/download/v0.27.0/alertmanager-0.27.0.linux-amd64.tar.gz&#xA;ä¸‹è½½å‡å‹ - &amp;gt; /usr/local/bin&#xA;cta &amp;lt;&amp;lt;EOF &amp;gt;/etc/systemd/system/alertmanager.service ### Alertmanager systemd [Unit] Description=Alertmanager After=network-online.target [Service] User=alertmanager Group=alertmanager Type=simple ExecStart=/usr/local/bin/alertmanager --config.file=/etc/alertmanager/alertmanager.yml Restart=always [Install] WantedBy=multi-user.target EOF é…ç½®æ–‡ä»¶ï¼šalertmanager.yml&#xA;å‚è€ƒå®˜æ–¹é…ç½® ç¤ºä¾‹ï¼šä¼ä¸šå¾®ä¿¡&#xA;global: resolve_timeout: 5m route: group_by: [&amp;#39;alertname&amp;#39;] group_wait: 10s group_interval: 1m repeat_interval: 30m receiver: &amp;#39;web.hook&amp;#39; receivers: - name: &amp;#39;web.hook&amp;#39; webhook_configs: - url: &amp;#39;http://localhost:8999/webhook&amp;#39; send_resolved: true è®¿é—®ï¼š9093ç«¯å£</description>
    </item>
    <item>
      <title>Vmagent</title>
      <link>http://localhost:1313/docsgo/monitor/victoriametrics/vmagent/</link>
      <pubDate>Wed, 27 Mar 2024 15:48:16 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/monitor/victoriametrics/vmagent/</guid>
      <description>æ¥å…¥è…¾è®¯äº‘ç›‘æ§ï¼Œvmagent ä¼šå°†ç›‘æ§æ•°æ® pull åˆ°è…¾è®¯äº‘ victoriametrics TSDB&#xA;å‰æ ä¸‹è½½åŒ… wget https://github.com/VictoriaMetrics/VictoriaMetrics/releases/download/v1.99.0/vmutils-linux-amd64-v1.99.0.tar.gz è¯ä¹¦æ–‡ä»¶æ”¾ç½®åœ¨ /etc/ssl/certs cert.pem key.pem å®‰å…¨ è¯ä¹¦ï¼š&#xA;ğŸ‰ ç”¨äº vmagentä¼ è¾“æ•°æ® TLSåŠ å¯†&#xA;cat &amp;lt;&amp;lt;EOF &amp;gt; openssl.cnf [req] req_extensions = v3_req distinguished_name = req_distinguished_name [req_distinguished_name] [v3_req] basicConstraints = CA:FALSE keyUsage = nonRepudiation, digitalSignature, keyEncipherment subjectAltName = @alt_names [alt_names] IP.1 = 1.15.176.240 EOF openssl req -x509 -nodes -days 3650 -newkey rsa:2048 \ -keyout key.pem -out cert.pem \ -subj &amp;#34;/C=CN/ST=shanxi/L=xian/O=IT/CN=monitor&amp;#34; \ -config.yaml openssl.cnf æ¥å…¥ç¯å¢ƒé…ç½®ï¼š&#xA;cat &amp;lt;&amp;lt;EOF &amp;gt;/etc/ssl/certs/cert.</description>
    </item>
    <item>
      <title>Git</title>
      <link>http://localhost:1313/docsgo/devops/git/git/</link>
      <pubDate>Wed, 27 Mar 2024 13:10:39 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/devops/git/git/</guid>
      <description>ğŸ† Version Control [toc]&#xA;Git åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œç”¨äºç®¡ç†åº”ç”¨ç¨‹åºä»£ç &#xA;ç‰ˆæœ¬æ§åˆ¶æ¦‚å¿µ å¦‚ä½•å®ç°å·¥ä½œ åˆ›å»ºGitä»“åº“ æœ¬åœ°ä½¿ç”¨ Git å‘½ä»¤è¡Œå·¥å…· æ‰€æœ‰ç›¸å…³çš„ Git æ³¨é‡Š ä¸€äº›æœ‰ç”¨çš„æ¦‚å¿µï¼šæ¢å¤é”™è¯¯ï¼Œåˆå¹¶å†²çª åˆ†æ”¯çš„æ¦‚å¿µ ğŸ§¬ è´¯ç©¿æ•´ä¸ªæ¨¡å—ï¼ŒåŒæ—¶å­¦ä¹ ä¸åŒçš„æ¦‚å¿µ ï¼Œä½¿ç”¨Gitçš„æœ€ä½³å®è·µ&#xA;ğŸ¤” What is Version Control ğŸŒ°ï¼šä¸€ä¸ªå›¢é˜Ÿã€å…¬å¸ã€å¤§é¡¹ç›® å¤šä¸ªå¼€å‘åŒæ—¶åœ¨åšçš„äº‹æƒ… - å¼€å‘åº”ç”¨ç¨‹åºã€‚&#xA;æ„å»ºå‰ç«¯ã€åç«¯ã€æ•°æ®åº“è¿æ¥ç­‰ç­‰ å…±äº«ä»£ç ï¼Œå¤šä¸ªäººå¯¹åŒä¸€æ–‡ä»¶åšäº†æ“ä½œï¼Œè¿›è¡Œäº†æ›´æ”¹ã€‚&#xA;ä» ä»£ç ä»“åº“å­˜å‚¨åˆ°æœ¬åœ°ï¼Œåšä¸€äº›æ”¹å˜åæ¨é€åˆ°ä»£ç ä»“åº“ï¼Œä¸‹ä¸€ä¸ªå¼€å‘äººå‘˜å°±å¯ä»¥è·å–åˆ°ä»£ç ã€‚&#xA;æŒç»­é›†æˆï¼š&#xA;å¼€å‘ä¸­ï¼Œä½¿ç”¨ç›¸åŒä»£ç çš„å¼€å‘äººå‘˜ï¼Œæœ€å¥½çš„åšæ³•æ˜¯ä¸æ–­çš„æ¨æ‹‰ï¼Œé€šå¸¸æ¥è‡ªå­˜å‚¨åº“ï¼Œå› æ­¤ä¸éœ€è¦åˆå¹¶é‡å çš„å·¨å¤§å˜åŒ–ï¼Œä¹Ÿå¯ä»¥è½»æ¾æ’åºä¸åŒçš„å˜åŒ–ã€‚ â€¼ï¸ å¦‚æœæœ‰äººå¼„ä¹±äº†ä»£ç å’Œæ›´æ”¹&#xA;æ¯ä¸€æ¬¡æäº¤éƒ½æ˜¯ä¸€ä¸ªå†å²ç‰ˆæœ¬ï¼Œå¯ä»¥è¿˜åŸæäº¤ï¼Œè¿™å°±æ˜¯ç‰ˆæœ¬æ§åˆ¶çš„æ¥æº æ¯ä¸ªæ›´æ”¹éƒ½æœ‰æç¤ºä¿¡æ¯ã€æ„å‘³ç€æäº¤ä¸åº”è¯¥å¾ˆå¤§ã€‘ ğŸš€ å¦‚ä½•å®ç°å·¥ä½œ è¿œç«¯ä»“åº“ æœ¬åœ°ä»“åº“ å†å²ï¼šæ—¥å¿— æš‚åœï¼šè¢«é”å®šçš„éƒ¨åˆ† gitå®¢æˆ·ç«¯ å·¥ä½œç›®å½• &amp;ndash;&amp;gt; git add æš‚åœåŒºåŸŸ &amp;ndash;&amp;gt; git commint æœ¬åœ°ä»“åº“ git push è¿œç«¯ä»“åº“&#xA;âš™ï¸ è®¾ç½®Git ä»“åº“ ä»€ä¹ˆæ˜¯Git å­˜å‚¨åº“&#xA;å­˜å‚¨åº“ï¼šGitHubã€GitLab ç§äººã€å…¬å¸ å…¬å¸ä¸ä¼šåœ¨å…¬å…±åœºæ‰€æ‰˜ç®¡ä»–ä»¬çš„ä»£ç ï¼ŒGit å­˜å‚¨åº“çš„äº‘å‚å•†ï¼Œæœ‰è‡ªå·±çš„å­˜å‚¨ä»“åº“æ‰˜ç®¡åœ¨å…¬å¸å½“ä¸­ã€‚&#xA;ğŸ¯ gitå®¢æˆ·ç«¯ è¿æ¥ gitlab</description>
    </item>
    <item>
      <title>Rulers</title>
      <link>http://localhost:1313/docsgo/monitor/alert/rulers/</link>
      <pubDate>Tue, 26 Mar 2024 11:27:25 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/monitor/alert/rulers/</guid>
      <description>è®¿é—®ï¼šå‘Šè­¦è§„åˆ™é›†åˆé“¾æ¥&#xA;Node Exporter # ä¸»æœºå’Œç¡¬ä»¶ç›¸å…³çš„å‘Šè­¦è§„åˆ™ groups: # ç£ç›˜ä½¿ç”¨ç‡å‘Šè­¦ - name: ç£ç›˜ä½¿ç”¨ç‡å‘Šè­¦ rules: - alert: ç£ç›˜ä½¿ç”¨ç‡å‘Šè­¦ expr: floor(((node_filesystem_size_bytes{heihutao!~&amp;#34;heihutao-tw-dev|heihutao-tw-test|heihutao-tw-dp&amp;#34;} - node_filesystem_free_bytes) * 100) / (node_filesystem_avail_bytes + node_filesystem_size_bytes - node_filesystem_free_bytes)) &amp;gt; 85 for: 1m labels: severity: ä¸¥é‡ annotations: summary: &amp;#34;ç£ç›˜ä½¿ç”¨ç‡è¶…è¿‡85% (å®ä¾‹ {{ $labels.instance }})&amp;#34; description: &amp;#34;è®¾å¤‡ {{ $labels.device }} æŒ‚è½½åœ¨ {{ $labels.mountpoint }} çš„ç£ç›˜ä½¿ç”¨ç‡è¶…è¿‡äº† 85%ã€‚(å½“å‰å€¼: {{ $value }}%)&amp;#34; # å†…å­˜ä½¿ç”¨ç‡å‘Šè­¦ - name: å†…å­˜å‘Šè­¦è§„åˆ™ rules: - alert: &amp;#34;å†…å­˜ä½¿ç”¨ç‡å‘Šè­¦&amp;#34; expr: floor((node_memory_MemTotal_bytes{heihutao!~&amp;#34;heihutao-tw-dev|heihutao-tw-test|heihutao-tw-dp&amp;#34;} - (node_memory_MemFree_bytes + node_memory_Buffers_bytes + node_memory_Cached_bytes)) / node_memory_MemTotal_bytes * 100) &amp;gt; 85 for: 3m labels: severity: ä¸¥é‡ annotations: summary: &amp;#34;å†…å­˜ä½¿ç”¨ç‡è¶…è¿‡85% (å®ä¾‹ {{ $labels.</description>
    </item>
    <item>
      <title>Garfana</title>
      <link>http://localhost:1313/docsgo/monitor/grafana/garfana/</link>
      <pubDate>Tue, 26 Mar 2024 10:57:21 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/monitor/grafana/garfana/</guid>
      <description>å®‰è£…Grafna è®¿é—®ï¼šhttps://grafana.com/docs/grafana/latest/setup-grafana/installation/&#xA;è®¾ç½® Grafana HTTPS ä»¥ç¡®ä¿ç½‘ç»œæµé‡å®‰å…¨ è®¿é—®ï¼šhttps://grafana.com/docs/grafana/latest/setup-grafana/set-up-https/&#xA;æ­¥éª¤&#xA;ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ æ‰“å¼€è¯¥grafana.iniæ–‡ä»¶å¹¶ç¼–è¾‘ä»¥ä¸‹é…ç½®å‚æ•°ï¼š&#xA;[server] http_addr = http_port = 3000 domain = mysite.com root_url = https://subdomain.mysite.com:3000 cert_key = /etc/grafana/grafana.key cert_file = /etc/grafana/grafana.crt enforce_domain = False protocol = https æ³¨æ„ï¼šSSL æµé‡çš„æ ‡å‡†ç«¯å£æ˜¯ 443ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥ä»£æ›¿ Grafana çš„é»˜è®¤ç«¯å£ 3000ã€‚</description>
    </item>
    <item>
      <title>Kube State Metrics</title>
      <link>http://localhost:1313/docsgo/monitor/exporter/kube-state-metrics/</link>
      <pubDate>Mon, 25 Mar 2024 10:23:51 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/monitor/exporter/kube-state-metrics/</guid>
      <description>é€‚ç”¨äºé›†ç¾¤ç‰ˆæœ¬ï¼Œk8s v1.9&#xA;å‰æå‡†å¤‡ï¼š&#xA;å‡†å¤‡é•œåƒ docker pull bitnami/kube-state-metrics:1.6.0 ä¸Šä¼ åˆ°æ‰€æœ‰workerèŠ‚ç‚¹&#xA;ğŸ‰ å®Œæˆä¸Šè¿°æ­¥éª¤å†ç»§ç»­&#xA;éƒ¨ç½²ï¼š&#xA;--- apiVersion: v1 kind: ServiceAccount metadata: labels: app: kube-state-metrics name: kube-state-metrics namespace: kube-system --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRole metadata: name: kube-state-metrics rules: - apiGroups: [&amp;#34;&amp;#34;] resources: - configmaps - secrets - nodes - pods - services - resourcequotas - replicationcontrollers - limitranges - persistentvolumeclaims - persistentvolumes - namespaces - endpoints verbs: [&amp;#34;list&amp;#34;, &amp;#34;watch&amp;#34;] - apiGroups: [&amp;#34;extensions&amp;#34;] resources: - daemonsets - deployments - replicasets - ingresses verbs: [&amp;#34;list&amp;#34;, &amp;#34;watch&amp;#34;] - apiGroups: [&amp;#34;apps&amp;#34;] resources: - daemonsets - deployments - replicasets - statefulsets verbs: [&amp;#34;list&amp;#34;, &amp;#34;watch&amp;#34;] - apiGroups: [&amp;#34;batch&amp;#34;] resources: - cronjobs - jobs verbs: [&amp;#34;list&amp;#34;, &amp;#34;watch&amp;#34;] - apiGroups: [&amp;#34;autoscaling&amp;#34;] resources: - horizontalpodautoscalers verbs: [&amp;#34;list&amp;#34;, &amp;#34;watch&amp;#34;] - apiGroups: [&amp;#34;policy&amp;#34;] resources: - poddisruptionbudgets verbs: [&amp;#34;list&amp;#34;, &amp;#34;watch&amp;#34;] - apiGroups: [&amp;#34;certificates.</description>
    </item>
    <item>
      <title>Node Exporter</title>
      <link>http://localhost:1313/docsgo/monitor/exporter/node-exporter/</link>
      <pubDate>Mon, 25 Mar 2024 09:28:48 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/monitor/exporter/node-exporter/</guid>
      <description>ğŸ‰ é»˜è®¤ç«¯å£ 9100ï¼Œå› ä¸ºä¸ä¸šåŠ¡ç«¯å£å†²çªï¼Œæ‰€ä»¥æ­¤å¤„ä¸º9101&#xA;node exporter 1.ä¸‹è½½&#xA;wget https://github.com/prometheus/node_exporter/releases/download/v1.7.0/node_exporter-1.7.0.linux-amd64.tar.gz 2.å‡å‹ånode_exporterç§»åŠ¨&#xA;tar -zxvf node_exporter-1.7.0.linux-amd64.tar.gz -C /usr/local/bin/ --strip-components=1 3.service æ–‡ä»¶&#xA;ç«¯å£é»˜è®¤9100ï¼Œä¼šä¸yugabyte ç«¯å£å†²çª&#xA;cat &amp;lt;&amp;lt;EOF | tee /etc/systemd/system/node_exporter.service [Unit] Description=Node Exporter After=network.target [Service] Type=simple ExecStart=/usr/local/bin/node_exporter --web.listen-address=:9101 Restart=always [Install] WantedBy=multi-user.target EOF å¯åŠ¨æœåŠ¡ systemctl daemon-reload systemctl restart node_exporter.service systemctl status node_exporter.service systemctl enable node_exporter.service æ¥å…¥ï¼š&#xA;- job_name: &amp;#39;node&amp;#39; static_configs: - targets: [&amp;#39;localhost:9101&amp;#39;] </description>
    </item>
    <item>
      <title>Mysql Exporter</title>
      <link>http://localhost:1313/docsgo/monitor/exporter/mysql-exporter/</link>
      <pubDate>Mon, 25 Mar 2024 09:28:39 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/monitor/exporter/mysql-exporter/</guid>
      <description>ğŸ‰ æš´éœ²ç«¯å£ 9104&#xA;åˆ›å»º /etc/mysqlexporter ç›®å½•å¹¶åœ¨å…¶ä¸­åˆ›å»º .my.cnf æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å« MySQL ç”¨æˆ·åå’Œå¯†ç ã€‚ ğŸ”” userã€password æ•°æ®åº“ç”¨æˆ·å¯†ç &#xA;mkdir -p /etc/mysqlexporter echo -e &amp;#34;[client]\nuser=$user\npassword=$password&amp;#34; &amp;gt; /etc/mysqlexporter/.my.cnf å°† mysqld_exporter å¤åˆ¶åˆ° /usr/local/bin/ ç›®å½•ã€‚ cp ./bin/mysqld_exporter /usr/local/bin/ åˆ›å»ºä¸€ä¸ªåä¸º mysql_exporter.service çš„ systemd æœåŠ¡æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åœ¨ /etc/systemd/system/ ç›®å½•ä¸‹ã€‚ cat &amp;lt;&amp;lt;EOF &amp;gt; /etc/systemd/system/mysql_exporter.service [Unit] Description=mysql Exporter After=network.target [Service] Type=simple ExecStart=/usr/local/bin/mysqld_exporter --config.my-cnf=/etc/mysqlexporter/.my.cnf [Install] WantedBy=multi-user.target EOF é‡æ–°åŠ è½½ systemd çš„é…ç½®ï¼Œå¯åŠ¨ mysql_exporter.service æœåŠ¡ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ã€‚ systemctl daemon-reload systemctl start mysql_exporter.service systemctl enable mysql_exporter.service éªŒè¯ curl 127.0.0.1:9104/metrics æ¥å…¥ï¼š&#xA;- job_name: &amp;#39;mysql&amp;#39; static_configs: - targets: [&amp;#39;mysql-exporter:9104&amp;#39;] Grafana æ¨¡ç‰ˆ ID ï¼š17320</description>
    </item>
    <item>
      <title>Mongodb Exporter</title>
      <link>http://localhost:1313/docsgo/monitor/exporter/mongodb-exporter/</link>
      <pubDate>Mon, 25 Mar 2024 09:28:25 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/monitor/exporter/mongodb-exporter/</guid>
      <description>ğŸ‰ mongodb exporter&#xA;ä¸‹è½½ï¼š&#xA;wget https://github.com/percona/mongodb_exporter/releases/download/v0.11.2/mongodb_exporter-0.11.2.linux-amd64.tar.gz å‡å‹åå°† mongodb_exporter äºŒè¿›åˆ¶æ–‡ä»¶ç§»åŠ¨ï¼š&#xA;mv mongodb_exporter /usr/local/bin/ åœ¨ MongoDB ä¸­åˆ›å»ºä¸€ä¸ªåä¸º prometheus çš„ç”¨æˆ·&#xA;è¿›å…¥mongodb mongo mongo.skydns.local --ssl --sslPEMKeyFile /etc/ssl/mongo/client.pem --sslCAFile /etc/ssl/mongo/ca.crt --authenticationDatabase &amp;#39;$external&amp;#39; --authenticationMechanism MONGODB-X509 åˆ›å»ºç”¨æˆ· use admin db.createUser({ user: &amp;#34;prometheus&amp;#34;, pwd: &amp;#34;prometheus&amp;#34;, roles: [ { role: &amp;#34;read&amp;#34;, db: &amp;#34;admin&amp;#34; }, { role: &amp;#34;readAnyDatabase&amp;#34;, db: &amp;#34;admin&amp;#34; }, { role: &amp;#34;clusterMonitor&amp;#34;, db: &amp;#34;admin&amp;#34; } ] }); åˆ›å»ºserviceæ–‡ä»¶&#xA;â€¼ï¸ ä¿®æ”¹è¯ä¹¦è·¯å¾„ å’Œ IP&#xA;cat &amp;lt;&amp;lt;EOF &amp;gt; /etc/systemd/system/mongodb_exporter.service [Unit] Description=mongodb_exporter After=network.</description>
    </item>
    <item>
      <title>Etcd Exporter</title>
      <link>http://localhost:1313/docsgo/monitor/exporter/etcd-exporter/</link>
      <pubDate>Mon, 25 Mar 2024 09:28:11 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/monitor/exporter/etcd-exporter/</guid>
      <description>ç‰¹å®šç¯å¢ƒï¼Œæ¯ä¸ªèŠ‚ç‚¹ /etc/ssl/etcd/ssl æœ‰etcd è¯ä¹¦&#xA;å°†ä»¥ä¸‹é…ç½®å†™å…¥ï¼švmagent.yaml â€¼ï¸ æ³¨æ„ä¿®æ”¹è¯ä¹¦åä¸ºå®é™…è¯ä¹¦åï¼Œä¿®æ”¹ etcd-ip&#xA;- job_name: &amp;#34;etcd&amp;#34; scheme: https tls_config: insecure_skip_verify: true cert_file: /etc/ssl/etcd/ssl/node-dev-master.pem key_file: /etc/ssl/etcd/ssl/node-dev-master-key.pem ca_file: /etc/ssl/etcd/ssl/ca.pem static_configs: - targets: [&amp;#39;etcd-ip1:2379&amp;#39;,&amp;#39;etcd-ip2:2379&amp;#39;,&amp;#39;etcd-ip3:2379&amp;#39;] </description>
    </item>
    <item>
      <title>Elasticsearch Exporter</title>
      <link>http://localhost:1313/docsgo/monitor/exporter/elasticsearch-exporter/</link>
      <pubDate>Mon, 25 Mar 2024 09:27:13 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/monitor/exporter/elasticsearch-exporter/</guid>
      <description>ç›‘æ§ 9114ç«¯å£&#xA;ä¸‹è½½å‡å‹ï¼š&#xA;wget https://github.com/prometheus-community/elasticsearch_exporter/releases/download/v1.5.0/elasticsearch_exporter-1.5.0.linux-amd64.tar.gz 2.å‡å‹ånode_exporterç§»åŠ¨&#xA;cp elasticsearch_exporter-1.5.0.linux-amd64/elasticsearch_exporter /usr/local/bin/ 3.service æ–‡ä»¶&#xA;âš ï¸ &amp;ndash;es.uri å‚æ•°åœ°å€æŒ‡å®šä¸º elasticsearch èŠ‚ç‚¹IP&#xA;cat &amp;lt;&amp;lt;EOF | tee /etc/systemd/system/elasticsearch_exporter.service [Unit] Description=elasticsearch_exporter After=network.target [Service] Type=simple ExecStart=/usr/local/bin/elasticsearch_exporter --es.uri http://10.61.200.236:9200 --web.listen-address 0.0.0.0:9114 Restart=always [Install] WantedBy=multi-user.target EOF å¯åŠ¨æœåŠ¡ systemctl daemon-reload systemctl restart elasticsearch_exporter systemctl status elasticsearch_exporter systemctl enable elasticsearch_exporter æ¥å…¥ï¼š - job_name: &amp;#39;elasticsearch_exporter&amp;#39; static_configs: - targets: [&amp;#39;10.61.200.236:9114&amp;#39;] Grafana å¯¼å…¥IDï¼š14191</description>
    </item>
    <item>
      <title>Cassandra Exporter</title>
      <link>http://localhost:1313/docsgo/monitor/exporter/cassandra-exporter/</link>
      <pubDate>Mon, 25 Mar 2024 09:26:56 +0800</pubDate>
      <guid>http://localhost:1313/docsgo/monitor/exporter/cassandra-exporter/</guid>
      <description>åœ¨cassandra èŠ‚ç‚¹ - data1&#xA;ä¸‹è½½åŒ… wget https://repo1.maven.org/maven2/io/prometheus/jmx/jmx_prometheus_javaagent/0.19.0/jmx_prometheus_javaagent-0.19.0.jar æ”¾åœ¨data1:&#xA;mv jmx_prometheus_javaagent-0.19.0.jar /usr/share/cassandra/lib/ 2.1 é…ç½®ä¿®æ”¹1 /etc/cassandra/conf/cassandra-jmx.yaml&#xA;lowercaseOutputLabelNames: true lowercaseOutputName: true whitelistObjectNames: [&amp;#34;org.apache.cassandra.metrics:*&amp;#34;] # ColumnFamily is an alias for Table metrics blacklistObjectNames: [&amp;#34;org.apache.cassandra.metrics:type=ColumnFamily,*&amp;#34;] rules: # Generic gauges with 0-2 labels - pattern: org.apache.cassandra.metrics&amp;lt;type=(\S*)(?:, ((?!scope)\S*)=(\S*))?(?:, scope=(\S*))?, name=(\S*)&amp;gt;&amp;lt;&amp;gt;Value name: cassandra_$1_$5 type: GAUGE labels: &amp;#34;$1&amp;#34;: &amp;#34;$4&amp;#34; &amp;#34;$2&amp;#34;: &amp;#34;$3&amp;#34; # # Emulate Prometheus &amp;#39;Summary&amp;#39; metrics for the exported &amp;#39;Histogram&amp;#39;s. # TotalLatency is the sum of all latencies since server start # - pattern: org.</description>
    </item>
  </channel>
</rss>
