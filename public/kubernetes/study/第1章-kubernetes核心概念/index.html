
<script src="/docsgo/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=docsgo/livereload" data-no-instant defer></script><div class="footer-content ">
    <div class="row" style="display: flex; justify-content: center; align-items: center;">

        <div class="col-md-4 col-md-offset-0 vcenter">
            <div style="text-align: center;">
                <img class="float-right" src="http://localhost:1313/docsgo/punching.gif" style="width: 40%">
                <br>
                <br>
            </div>
        </div>
        <div class="col-md-6 col-md-offset-1 vcenter">
            <div class="quote" style="font-size: 1.5em; font-family: 'Courier New', Courier, monospace; color: #888; margin-left: 20px; margin-right: 20px; text-align: center;">“成功绝非偶然。 这是努力工作、坚持不懈、学习、学习、牺牲，最重要的是，热爱你正在做的事情或正在学习的事情。” - 贝利</div>
        </div>
        <div class="col-md-4 col-md-offset-0 vcenter">
            <div style="text-align: center;">
                <img src="http://localhost:1313/docsgo/success.gif" style="width: 40%">
                <br>
                <br>
            </div>
        </div>
    </div>
</div>
<div id="article" style="padding-left: 20px; padding-right: 20px;">
    <div class="article-title">
        <h1>第1章 Kubernetes核心概念</h1>
    </div>
    
    
    <time datetime="2024-04-26T22:44:23&#43;08:00">April 26, 2024</time>
    <hr/>
    <aside>
        <p> 目录: </p>
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#容器编排">容器编排</a></li>
        <li><a href="#核心组件">核心组件</a></li>
        <li><a href="#pod">Pod</a></li>
        <li><a href="#service">Service</a></li>
        <li><a href="#volume">Volume</a></li>
        <li><a href="#工作负载">工作负载</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </aside>
    <hr>
    <div class="post">
        <div id="content-font">
            <p>重新学习Kubernetes ，弥补遗漏知识。</p>
<p>常用组件：Pod、service、ingress、configmap、secret、volume、deployment、statefulset、daemonset</p>
<h3 id="容器编排">容器编排</h3>
<p>容器编排工具的任务？</p>
<p>从时间顺序上该问题：</p>
<ul>
<li>微服务的兴起导致了容器技术使用的增加，容器技术提供了一个完美的主机</li>
<li>在都个主机环境使用脚本或者自制的工具管理会非常麻烦，这种情况下出现了对容器编排的需求。</li>
</ul>
<p>所以kubernetes 所做的就是</p>
<ol>
<li>高可用性：高可用意味着：程序没有停机时间，总是可以让用户访问</li>
<li>扩展性：快速扩展程序 【动态调整负载】</li>
<li>灾难恢复，基础设施出现问题、数据丢失、服务器崩溃等，应用程序不会丢失任何数据。</li>
</ol>
<h3 id="核心组件">核心组件</h3>
<p>每个节点</p>
<ul>
<li>container runtime</li>
<li>kubelet</li>
<li>kube-proxy：service本身就是LB，捕捉请求指向应用程序</li>
</ul>
<p>master：</p>
<ul>
<li>api server</li>
<li></li>
</ul>
<h3 id="pod">Pod</h3>
<p>Pod：抽象概念，Pod的作用基本是就是创建容器运行的环境。或在容器上面的一个层。</p>
<p>Pod之间通信：</p>
<ul>
<li>k8s 的CNI 提供了 虚拟网络，每个Pod都会有一个IP。</li>
<li>这个IP是会变化的。【容器奔溃重启等等原因】会分配一个新的IP。</li>
</ul>
<h3 id="service">Service</h3>
<p>service：一个静态的IP或永久的地址，可以连接到每个通过标签匹配到的Pod。</p>
<p>好处：service 和 Pod的生命周期不相互连接。【即使Pod死亡，Service 和 它的IP也会保持不变】</p>
<p>显然接下来希望应用程序通过外部访问</p>
<p>Ingress 代替 NodePort</p>
<h3 id="volume">Volume</h3>
<p>外部配置：configmap</p>
<p>加密配置：secret，使用base64，实际上并不能加密，所以会使用第三方工具。</p>
<p>如果希望数据或日志数据可靠的存储下来，可以做啊都这件事的组件：Volume</p>
<p>存储：可以是节点磁盘，也可以是远程存储 。</p>
<h3 id="工作负载">工作负载</h3>
<p>deployment</p>
<p>statefulset：部署数据库、有状态服务</p>
<ul>
<li>使用有状态部署数据库在k8s集群，会有性能等问题，所以使用集群外托管数据库是一种常见的做法。</li>
</ul>
<p>demonset：每个节点部署一个Pod，负责代理、日志收集、守护进程等。</p>

        </div>
    </div>
</div>
