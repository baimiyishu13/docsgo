<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Monitors on docsGo</title>
    <link>http://localhost:1313/monitor/</link>
    <description>Recent content in Monitors on docsGo</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 25 Mar 2024 10:23:51 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/monitor/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Kube State Metrics</title>
      <link>http://localhost:1313/monitor/exporter/kube-state-metrics/</link>
      <pubDate>Mon, 25 Mar 2024 10:23:51 +0800</pubDate>
      <guid>http://localhost:1313/monitor/exporter/kube-state-metrics/</guid>
      <description>é€‚ç”¨äºé›†ç¾¤ç‰ˆæœ¬ï¼Œk8s v1.9&#xA;å‰æå‡†å¤‡ï¼š&#xA;å‡†å¤‡é•œåƒ docker pull bitnami/kube-state-metrics:1.6.0 ä¸Šä¼ åˆ°æ‰€æœ‰workerèŠ‚ç‚¹&#xA;ğŸ‰ å®Œæˆä¸Šè¿°æ­¥éª¤å†ç»§ç»­&#xA;éƒ¨ç½²ï¼š&#xA;--- apiVersion: v1 kind: ServiceAccount metadata: labels: app: kube-state-metrics name: kube-state-metrics namespace: kube-system --- apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRole metadata: name: kube-state-metrics rules: - apiGroups: [&amp;#34;&amp;#34;] resources: - configmaps - secrets - nodes - pods - services - resourcequotas - replicationcontrollers - limitranges - persistentvolumeclaims - persistentvolumes - namespaces - endpoints verbs: [&amp;#34;list&amp;#34;, &amp;#34;watch&amp;#34;] - apiGroups: [&amp;#34;extensions&amp;#34;] resources: - daemonsets - deployments - replicasets - ingresses verbs: [&amp;#34;list&amp;#34;, &amp;#34;watch&amp;#34;] - apiGroups: [&amp;#34;apps&amp;#34;] resources: - daemonsets - deployments - replicasets - statefulsets verbs: [&amp;#34;list&amp;#34;, &amp;#34;watch&amp;#34;] - apiGroups: [&amp;#34;batch&amp;#34;] resources: - cronjobs - jobs verbs: [&amp;#34;list&amp;#34;, &amp;#34;watch&amp;#34;] - apiGroups: [&amp;#34;autoscaling&amp;#34;] resources: - horizontalpodautoscalers verbs: [&amp;#34;list&amp;#34;, &amp;#34;watch&amp;#34;] - apiGroups: [&amp;#34;policy&amp;#34;] resources: - poddisruptionbudgets verbs: [&amp;#34;list&amp;#34;, &amp;#34;watch&amp;#34;] - apiGroups: [&amp;#34;certificates.</description>
    </item>
    <item>
      <title>Node Exporter</title>
      <link>http://localhost:1313/monitor/exporter/node-exporter/</link>
      <pubDate>Mon, 25 Mar 2024 09:28:48 +0800</pubDate>
      <guid>http://localhost:1313/monitor/exporter/node-exporter/</guid>
      <description>ğŸ‰ é»˜è®¤ç«¯å£ 9100ï¼Œå› ä¸ºä¸ä¸šåŠ¡ç«¯å£å†²çªï¼Œæ‰€ä»¥æ­¤å¤„ä¸º9101&#xA;node exporter 1.ä¸‹è½½&#xA;wget https://github.com/prometheus/node_exporter/releases/download/v1.7.0/node_exporter-1.7.0.linux-amd64.tar.gz 2.å‡å‹ånode_exporterç§»åŠ¨&#xA;tar -zxvf node_exporter-1.7.0.linux-amd64.tar.gz -C /usr/local/bin/ --strip-components=1 3.service æ–‡ä»¶&#xA;ç«¯å£é»˜è®¤9100ï¼Œä¼šä¸yugabyte ç«¯å£å†²çª&#xA;cat &amp;lt;&amp;lt;EOF | tee /etc/systemd/system/node_exporter.service [Unit] Description=Node Exporter After=network.target [Service] Type=simple ExecStart=/usr/local/bin/node_exporter --web.listen-address=:9101 Restart=always [Install] WantedBy=multi-user.target EOF å¯åŠ¨æœåŠ¡ systemctl daemon-reload systemctl restart node_exporter.service systemctl status node_exporter.service systemctl enable node_exporter.service æ¥å…¥ï¼š&#xA;- job_name: &amp;#39;node&amp;#39; static_configs: - targets: [&amp;#39;localhost:9101&amp;#39;] </description>
    </item>
    <item>
      <title>Mysql Exporter</title>
      <link>http://localhost:1313/monitor/exporter/mysql-exporter/</link>
      <pubDate>Mon, 25 Mar 2024 09:28:39 +0800</pubDate>
      <guid>http://localhost:1313/monitor/exporter/mysql-exporter/</guid>
      <description>ğŸ‰ æš´éœ²ç«¯å£ 9104&#xA;åˆ›å»º /etc/mysqlexporter ç›®å½•å¹¶åœ¨å…¶ä¸­åˆ›å»º .my.cnf æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å« MySQL ç”¨æˆ·åå’Œå¯†ç ã€‚ ğŸ”” userã€password æ•°æ®åº“ç”¨æˆ·å¯†ç &#xA;mkdir -p /etc/mysqlexporter echo -e &amp;#34;[client]\nuser=$user\npassword=$password&amp;#34; &amp;gt; /etc/mysqlexporter/.my.cnf å°† mysqld_exporter å¤åˆ¶åˆ° /usr/local/bin/ ç›®å½•ã€‚ cp ./bin/mysqld_exporter /usr/local/bin/ åˆ›å»ºä¸€ä¸ªåä¸º mysql_exporter.service çš„ systemd æœåŠ¡æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åœ¨ /etc/systemd/system/ ç›®å½•ä¸‹ã€‚ cat &amp;lt;&amp;lt;EOF &amp;gt; /etc/systemd/system/mysql_exporter.service [Unit] Description=mysql Exporter After=network.target [Service] Type=simple ExecStart=/usr/local/bin/mysqld_exporter --config.my-cnf=/etc/mysqlexporter/.my.cnf [Install] WantedBy=multi-user.target EOF é‡æ–°åŠ è½½ systemd çš„é…ç½®ï¼Œå¯åŠ¨ mysql_exporter.service æœåŠ¡ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ã€‚ systemctl daemon-reload systemctl start mysql_exporter.service systemctl enable mysql_exporter.service éªŒè¯ curl 127.0.0.1:9104/metrics æ¥å…¥ï¼š&#xA;- job_name: &amp;#39;mysql&amp;#39; static_configs: - targets: [&amp;#39;mysql-exporter:9104&amp;#39;] Grafana æ¨¡ç‰ˆ ID ï¼š17320</description>
    </item>
    <item>
      <title>Mongodb Exporter</title>
      <link>http://localhost:1313/monitor/exporter/mongodb-exporter/</link>
      <pubDate>Mon, 25 Mar 2024 09:28:25 +0800</pubDate>
      <guid>http://localhost:1313/monitor/exporter/mongodb-exporter/</guid>
      <description>ğŸ‰ mongodb exporter&#xA;ä¸‹è½½ï¼š&#xA;wget https://github.com/percona/mongodb_exporter/releases/download/v0.11.2/mongodb_exporter-0.11.2.linux-amd64.tar.gz å‡å‹åå°† mongodb_exporter äºŒè¿›åˆ¶æ–‡ä»¶ç§»åŠ¨ï¼š&#xA;mv mongodb_exporter /usr/local/bin/ åœ¨ MongoDB ä¸­åˆ›å»ºä¸€ä¸ªåä¸º prometheus çš„ç”¨æˆ·&#xA;è¿›å…¥mongodb mongo mongo.skydns.local --ssl --sslPEMKeyFile /etc/ssl/mongo/client.pem --sslCAFile /etc/ssl/mongo/ca.crt --authenticationDatabase &amp;#39;$external&amp;#39; --authenticationMechanism MONGODB-X509 åˆ›å»ºç”¨æˆ· use admin db.createUser({ user: &amp;#34;prometheus&amp;#34;, pwd: &amp;#34;prometheus&amp;#34;, roles: [ { role: &amp;#34;read&amp;#34;, db: &amp;#34;admin&amp;#34; }, { role: &amp;#34;readAnyDatabase&amp;#34;, db: &amp;#34;admin&amp;#34; }, { role: &amp;#34;clusterMonitor&amp;#34;, db: &amp;#34;admin&amp;#34; } ] }); åˆ›å»ºserviceæ–‡ä»¶&#xA;â€¼ï¸ ä¿®æ”¹è¯ä¹¦è·¯å¾„ å’Œ IP&#xA;cat &amp;lt;&amp;lt;EOF &amp;gt; /etc/systemd/system/mongodb_exporter.service [Unit] Description=mongodb_exporter After=network.</description>
    </item>
    <item>
      <title>Etcd Exporter</title>
      <link>http://localhost:1313/monitor/exporter/etcd-exporter/</link>
      <pubDate>Mon, 25 Mar 2024 09:28:11 +0800</pubDate>
      <guid>http://localhost:1313/monitor/exporter/etcd-exporter/</guid>
      <description>ç‰¹å®šç¯å¢ƒï¼Œæ¯ä¸ªèŠ‚ç‚¹ /etc/ssl/etcd/ssl æœ‰etcd è¯ä¹¦&#xA;å°†ä»¥ä¸‹é…ç½®å†™å…¥ï¼švmagent.yaml â€¼ï¸ æ³¨æ„ä¿®æ”¹è¯ä¹¦åä¸ºå®é™…è¯ä¹¦åï¼Œä¿®æ”¹ etcd-ip&#xA;- job_name: &amp;#34;etcd&amp;#34; scheme: https tls_config: insecure_skip_verify: true cert_file: /etc/ssl/etcd/ssl/node-dev-master.pem key_file: /etc/ssl/etcd/ssl/node-dev-master-key.pem ca_file: /etc/ssl/etcd/ssl/ca.pem static_configs: - targets: [&amp;#39;etcd-ip1:2379&amp;#39;,&amp;#39;etcd-ip2:2379&amp;#39;,&amp;#39;etcd-ip3:2379&amp;#39;] </description>
    </item>
    <item>
      <title>Elasticsearch Exporter</title>
      <link>http://localhost:1313/monitor/exporter/elasticsearch-exporter/</link>
      <pubDate>Mon, 25 Mar 2024 09:27:13 +0800</pubDate>
      <guid>http://localhost:1313/monitor/exporter/elasticsearch-exporter/</guid>
      <description>ç›‘æ§ 9114ç«¯å£&#xA;ä¸‹è½½å‡å‹ï¼š&#xA;wget https://github.com/prometheus-community/elasticsearch_exporter/releases/download/v1.5.0/elasticsearch_exporter-1.5.0.linux-amd64.tar.gz 2.å‡å‹ånode_exporterç§»åŠ¨&#xA;cp elasticsearch_exporter-1.5.0.linux-amd64/elasticsearch_exporter /usr/local/bin/ 3.service æ–‡ä»¶&#xA;âš ï¸ &amp;ndash;es.uri å‚æ•°åœ°å€æŒ‡å®šä¸º elasticsearch èŠ‚ç‚¹IP&#xA;cat &amp;lt;&amp;lt;EOF | tee /etc/systemd/system/elasticsearch_exporter.service [Unit] Description=elasticsearch_exporter After=network.target [Service] Type=simple ExecStart=/usr/local/bin/elasticsearch_exporter --es.uri http://10.61.200.236:9200 --web.listen-address 0.0.0.0:9114 Restart=always [Install] WantedBy=multi-user.target EOF å¯åŠ¨æœåŠ¡ systemctl daemon-reload systemctl restart elasticsearch_exporter systemctl status elasticsearch_exporter systemctl enable elasticsearch_exporter æ¥å…¥ï¼š - job_name: &amp;#39;elasticsearch_exporter&amp;#39; static_configs: - targets: [&amp;#39;10.61.200.236:9114&amp;#39;] Grafana å¯¼å…¥IDï¼š14191</description>
    </item>
    <item>
      <title>Cassandra Exporter</title>
      <link>http://localhost:1313/monitor/exporter/cassandra-exporter/</link>
      <pubDate>Mon, 25 Mar 2024 09:26:56 +0800</pubDate>
      <guid>http://localhost:1313/monitor/exporter/cassandra-exporter/</guid>
      <description>åœ¨cassandra èŠ‚ç‚¹ - data1&#xA;ä¸‹è½½åŒ… wget https://repo1.maven.org/maven2/io/prometheus/jmx/jmx_prometheus_javaagent/0.19.0/jmx_prometheus_javaagent-0.19.0.jar æ”¾åœ¨data1:&#xA;mv jmx_prometheus_javaagent-0.19.0.jar /usr/share/cassandra/lib/ 2.1 é…ç½®ä¿®æ”¹1 /etc/cassandra/conf/cassandra-jmx.yaml&#xA;lowercaseOutputLabelNames: true lowercaseOutputName: true whitelistObjectNames: [&amp;#34;org.apache.cassandra.metrics:*&amp;#34;] # ColumnFamily is an alias for Table metrics blacklistObjectNames: [&amp;#34;org.apache.cassandra.metrics:type=ColumnFamily,*&amp;#34;] rules: # Generic gauges with 0-2 labels - pattern: org.apache.cassandra.metrics&amp;lt;type=(\S*)(?:, ((?!scope)\S*)=(\S*))?(?:, scope=(\S*))?, name=(\S*)&amp;gt;&amp;lt;&amp;gt;Value name: cassandra_$1_$5 type: GAUGE labels: &amp;#34;$1&amp;#34;: &amp;#34;$4&amp;#34; &amp;#34;$2&amp;#34;: &amp;#34;$3&amp;#34; # # Emulate Prometheus &amp;#39;Summary&amp;#39; metrics for the exported &amp;#39;Histogram&amp;#39;s. # TotalLatency is the sum of all latencies since server start # - pattern: org.</description>
    </item>
  </channel>
</rss>
