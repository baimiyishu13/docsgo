<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Etcd Exporter | docsGo</title>
<script src=https://cdn.tailwindcss.com></script><link rel=icon href=https://baimiyishu13.github.io/docsgo/icons/safari-pinned-tab.svg type=image/x-icon></head><body><header><header class="sticky top-0 z-10 py-1"><div class="container max-w-full px-10 flex flex-row items-center space-x-8 py-1"><span class=clickable-wrapper><span class="text-xl sm:text-2xl font-medium">M-Q</span></span><ul class="hidden md:flex flex-grow justify-end flex-row space-x-5"><li><a href=https://baimiyishu13.github.io/docsgo/documentation class=hover:underline>Docs</a></li></ul><span class="flex flex-row gap-1"><a href=https://github.com/ class="hover:opacity-95 hover:bg-blue-800 p-2 rounded-full"><svg viewBox="0 0 16 16" class="w-6 h-6 sm:w-7 sm:h-7" fill="currentcolor" aria-hidden="true"><path d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a></span></div></header><hr></header><main><p class="text-4xl text-center text-grey">Etcd Exporter</p><div class="container content mx-auto bg-white shadow-md rounded whitespace-normal overflow-auto break-all mb-10"><div class="max-w-6xl mx-auto mb-10"><time datetime=2024-03-25T09:28:11+08:00>March 25, 2024</time><div class="text-lg text-gray-700 p-4 text-sm"><p>特定环境，每个节点 <code>/etc/ssl/etcd/ssl</code> 有etcd 证书</p><ul><li>将以下配置写入：<code>vmagent.yaml</code></li></ul><p>‼️ 注意修改证书名为实际证书名，修改 <code>etcd-ip</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>  - job_name: <span style=color:#e6db74>&#34;etcd&#34;</span>
</span></span><span style=display:flex><span>    scheme: https
</span></span><span style=display:flex><span>    tls_config:
</span></span><span style=display:flex><span>      insecure_skip_verify: true
</span></span><span style=display:flex><span>      cert_file: /etc/ssl/etcd/ssl/node-dev-master.pem
</span></span><span style=display:flex><span>      key_file: /etc/ssl/etcd/ssl/node-dev-master-key.pem
</span></span><span style=display:flex><span>      ca_file: /etc/ssl/etcd/ssl/ca.pem
</span></span><span style=display:flex><span>    static_configs:
</span></span><span style=display:flex><span>      - targets: <span style=color:#f92672>[</span><span style=color:#e6db74>&#39;etcd-ip1:2379&#39;</span>,<span style=color:#e6db74>&#39;etcd-ip2:2379&#39;</span>,<span style=color:#e6db74>&#39;etcd-ip3:2379&#39;</span><span style=color:#f92672>]</span>
</span></span></code></pre></div></div></div></div><div class=footer-content><div class=row style=display:flex;justify-content:center;align-items:center><div class="col-md-4 col-md-offset-0 vcenter"><div style=text-align:center><img class=float-right src=https://baimiyishu13.github.io/docsgo/punching.gif style=width:40%><br><br></div></div><div class="col-md-6 col-md-offset-1 vcenter"><div class=quote style="font-size:1.5em;font-family:courier new,Courier,monospace;color:#888;margin-left:20px;margin-right:20px;text-align:center">“成功绝非偶然。 这是努力工作、坚持不懈、学习、学习、牺牲，最重要的是，热爱你正在做的事情或正在学习的事情。” - 贝利</div></div><div class="col-md-4 col-md-offset-0 vcenter"><div style=text-align:center><img src=https://baimiyishu13.github.io/docsgo/success.gif style=width:40%><br><br></div></div></div></div></main><footer><div class="container mx-auto mt-8 pt-8 flex flex-wrap justify-center"><a href=https://baimiyishu13.github.io/docsgo/ class="leading-loose mx-6 text-grey-dark hover:text-grey-darkest">最新文章</a>
<a href=https://baimiyishu13.github.io/docsgo/post/ class="leading-loose mx-6 text-grey-dark hover:text-grey-darkest">所有文章</a>
<a href=https://baimiyishu13.github.io/docsgo/progress/ class="leading-loose mx-6 text-grey-dark hover:text-grey-darkest">更新进展</a>
<a href=https://baimiyishu13.github.io/docsgo/tags/ class="leading-loose mx-6 text-grey-dark hover:text-grey-darkest">标签</a>
<a href=https://baimiyishu13.github.io/docsgo/about class="leading-loose mx-6 text-grey-dark hover:text-grey-darkest">关于我</a></div><p class="pb-8 text-center text-grey text-xs my-8">©2024 M-Q. 版权所有.</p><div class=py-6></div></footer></body></html>