











<script src="/docsgo/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=docsgo/livereload" data-no-instant defer></script><div class="container-fluid">
    <div class="col-md-6 footerjumbo">
        <p>Footer Bacon ipsum dolor amet sausage turkey tongue, spare ribs swine drumstick fatback kielbasa ham pork picanha tri-tip bresaola filet mignon. Corned beef meatball alcatra sausage rump pork biltong boudin tongue porchetta brisket. Ground round ham hock venison turkey bresaola pork belly short ribs meatball pancetta landjaeger fatback strip steak. Strip steak pancetta cow chuck. Doner landjaeger strip steak rump fatback. Tenderloin flank pancetta, tri-tip meatball short loin frankfurter cow beef ribs pork loin drumstick prosciutto andouille shankle ham.</h3></br>
        </p>
    </div>
</div>

<script src="http://localhost:1313/docsgo/js/jquery-1.10.2.min.js"></script>
<script src="http://localhost:1313/docsgo/js/bootstrap.min.js"></script>
<script src="http://localhost:1313/docsgo/js/bootstrap.js"></script>
<script type="text/javascript" src="http://localhost:1313/docsgo/js/hc.js"></script>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-40924989-2', 'gopheracademy.com');
    ga('send', 'pageview');
</script>

</body>

</html>

<div class="footer-content ">
    <div class="row" style="display: flex; justify-content: center; align-items: center;">

        <div class="col-md-4 col-md-offset-0 vcenter">
            <div style="text-align: center;">
                <img class="float-right" src="http://localhost:1313/docsgo/punching.gif" style="width: 40%">
                <br>
                <br>
            </div>
        </div>
        <div class="col-md-6 col-md-offset-1 vcenter">
            <div class="quote" style="font-size: 1.5em; font-family: 'Courier New', Courier, monospace; color: #888; margin-left: 20px; margin-right: 20px; text-align: center;">â€œæˆåŠŸç»éå¶ç„¶ã€‚ è¿™æ˜¯åŠªåŠ›å·¥ä½œã€åšæŒä¸æ‡ˆã€å­¦ä¹ ã€å­¦ä¹ ã€ç‰ºç‰²ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œçƒ­çˆ±ä½ æ­£åœ¨åšçš„äº‹æƒ…æˆ–æ­£åœ¨å­¦ä¹ çš„äº‹æƒ…ã€‚â€ - è´åˆ©</div>
        </div>
        <div class="col-md-4 col-md-offset-0 vcenter">
            <div style="text-align: center;">
                <img src="http://localhost:1313/docsgo/success.gif" style="width: 40%">
                <br>
                <br>
            </div>
        </div>
    </div>
</div>
<div id="article">
    <div class="article-title">
        <h1>Mysql Exporter</h1>
    </div>
    
    
    <time datetime="2024-03-25T09:28:39&#43;08:00">March 25, 2024</time>
    
    <hr/>
    <aside class="text-sm text-inherit">
        <p> ç›®å½•: </p>
        <nav id="TableOfContents"></nav>
    </aside>
    <hr>
    <div class="post">
        <div id="content-font">
            <p>ğŸ‰ æš´éœ²ç«¯å£ 9104</p>
<ol>
<li>åˆ›å»º /etc/mysqlexporter ç›®å½•å¹¶åœ¨å…¶ä¸­åˆ›å»º .my.cnf æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å« MySQL ç”¨æˆ·åå’Œå¯†ç ã€‚</li>
</ol>
<p>ğŸ”” userã€password æ•°æ®åº“ç”¨æˆ·å¯†ç </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>mkdir -p /etc/mysqlexporter
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;[client]\nuser=</span>$user<span style="color:#e6db74">\npassword=</span>$password<span style="color:#e6db74">&#34;</span> &gt; /etc/mysqlexporter/.my.cnf
</span></span></code></pre></div><ol start="2">
<li>å°† mysqld_exporter å¤åˆ¶åˆ° /usr/local/bin/ ç›®å½•ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>cp ./bin/mysqld_exporter /usr/local/bin/
</span></span></code></pre></div><ol start="3">
<li>åˆ›å»ºä¸€ä¸ªåä¸º mysql_exporter.service çš„ systemd æœåŠ¡æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åœ¨ /etc/systemd/system/ ç›®å½•ä¸‹ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>cat <span style="color:#e6db74">&lt;&lt;EOF &gt; /etc/systemd/system/mysql_exporter.service
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Unit]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Description=mysql Exporter
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">After=network.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Service]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Type=simple
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ExecStart=/usr/local/bin/mysqld_exporter  --config.my-cnf=/etc/mysqlexporter/.my.cnf
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Install]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">WantedBy=multi-user.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span></code></pre></div><ol start="4">
<li>é‡æ–°åŠ è½½ systemd çš„é…ç½®ï¼Œå¯åŠ¨ mysql_exporter.service æœåŠ¡ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>systemctl daemon-reload
</span></span><span style="display:flex;"><span>systemctl start mysql_exporter.service
</span></span><span style="display:flex;"><span>systemctl enable mysql_exporter.service
</span></span></code></pre></div><ol start="5">
<li>éªŒè¯</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>curl 127.0.0.1:9104/metrics
</span></span></code></pre></div><p>æ¥å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>- job_name: <span style="color:#e6db74">&#39;mysql&#39;</span>
</span></span><span style="display:flex;"><span>  static_configs:
</span></span><span style="display:flex;"><span>  - targets: <span style="color:#f92672">[</span><span style="color:#e6db74">&#39;mysql-exporter:9104&#39;</span><span style="color:#f92672">]</span>
</span></span></code></pre></div><p>Grafana æ¨¡ç‰ˆ ID ï¼š17320</p>

        </div>
    </div>
</div>

<div class="footer-content ">
    <div class="row" style="display: flex; justify-content: center; align-items: center;">

        <div class="col-md-4 col-md-offset-0 vcenter">
            <div style="text-align: center;">
                <img class="float-right" src="http://localhost:1313/docsgo/punching.gif" style="width: 40%">
                <br>
                <br>
            </div>
        </div>
        <div class="col-md-6 col-md-offset-1 vcenter">
            <div class="quote" style="font-size: 1.5em; font-family: 'Courier New', Courier, monospace; color: #888; margin-left: 20px; margin-right: 20px; text-align: center;">â€œæˆåŠŸç»éå¶ç„¶ã€‚ è¿™æ˜¯åŠªåŠ›å·¥ä½œã€åšæŒä¸æ‡ˆã€å­¦ä¹ ã€å­¦ä¹ ã€ç‰ºç‰²ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œçƒ­çˆ±ä½ æ­£åœ¨åšçš„äº‹æƒ…æˆ–æ­£åœ¨å­¦ä¹ çš„äº‹æƒ…ã€‚â€ - è´åˆ©</div>
        </div>
        <div class="col-md-4 col-md-offset-0 vcenter">
            <div style="text-align: center;">
                <img src="http://localhost:1313/docsgo/success.gif" style="width: 40%">
                <br>
                <br>
            </div>
        </div>
    </div>
</div>











<div class="container-fluid">
    <div class="col-md-6 footerjumbo">
        <p>Footer Bacon ipsum dolor amet sausage turkey tongue, spare ribs swine drumstick fatback kielbasa ham pork picanha tri-tip bresaola filet mignon. Corned beef meatball alcatra sausage rump pork biltong boudin tongue porchetta brisket. Ground round ham hock venison turkey bresaola pork belly short ribs meatball pancetta landjaeger fatback strip steak. Strip steak pancetta cow chuck. Doner landjaeger strip steak rump fatback. Tenderloin flank pancetta, tri-tip meatball short loin frankfurter cow beef ribs pork loin drumstick prosciutto andouille shankle ham.</h3></br>
        </p>
    </div>
</div>

<script src="http://localhost:1313/docsgo/js/jquery-1.10.2.min.js"></script>
<script src="http://localhost:1313/docsgo/js/bootstrap.min.js"></script>
<script src="http://localhost:1313/docsgo/js/bootstrap.js"></script>
<script type="text/javascript" src="http://localhost:1313/docsgo/js/hc.js"></script>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-40924989-2', 'gopheracademy.com');
    ga('send', 'pageview');
</script>

</body>

</html>